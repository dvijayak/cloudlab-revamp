 <!DOCTYPE html
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" id="viewport" content="height=device-height,width=device-width,user-scalable=no" />
		<title>Cloud Lab: Admin Panel</title>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>		
	</head>
	
	<body>		
		<script>
			$(document).ready(function () {
				// Ensure that the user is logged in	
				var url = "http://localhost/cloudlab_revamp/php/main.php",
					data = "validate=true",
					success = function (data) {						
						var output = $.parseJSON(data);
						if (output.status == "OK") {
							$( "#header_username" ).text(output.data.firstname);
						}
						// Incorrect login credentials
						else if (output.status == "INTRUDER") {
							alert("Back off, intruder!");
							window.location.href = "index.html";							
						}
					},
					dataType = "text";						
				$.post(url, data, success, dataType);				
			});
		</script>
		
		<div id="header">
			<script>
				$(function () {
					$( "#header button" ).click(function () {
						var url = "http://localhost/cloudlab_revamp/php/main.php",
							data = "logout=true",
							success = function (data) {
								var output = $.parseJSON(data);
								if (output.status == "LOGOUT") {									
									window.location.href = "index.html";
								}
							},
							dataType = "text";						
						$.post(url, data, success, dataType);
					});
				});
			</script>			
			<span>Administrator Control Panel</span>
			<span id="header_username"></span>	
			<!--<a>Logout</a>				-->
			<button>Logout</button>
		</div>
				
		
		<div id="centerContainer">
			<script>
				$(function () {
					$( "#admin_panelsAccordion" ).accordion();
				});
			</script>
			<div id="admin_panelsAccordion">
				<h3>Users</h3>
				<div>					
					<table>
						<tr>
							<th>User</th>
							<th>Role</th>
							<th>Date Created</th>
						</tr>	
					</table>
					<div id="admin_accordionPanels_footer">
						<input name="addedituser" type="button" value="Add+"/> <!-- TODO: Add a + icon .png -->
						<input name="addedituser" type="button" value="Edit"/>
						<input type="button" value="Delete"/>
					</div>
				</div>
				<h3>Courses</h3>
				<div>					
					<table>
						<tr>
							<th>Course</th>							
							<th>Expiry</th>
						</tr>	
					</table>
					
					<div id="admin_accordionPanels_footer">
						<input name="addeditcourse" type="button" value="Add+"/> <!-- TODO: Add a + icon .png -->
						<input name="addeditcourse" type="button" value="Edit"/>
						<input type="button" value="Delete"/>
					</div>
				</div>
			</div>
		</div>
		
		<div id="admin_userDialog" title="Create new/Edit existing user">
			<script>
				$(function () {
					$( "[name='addedituser']" ).click(function () {
						$( "#admin_userDialog" ).dialog( "open" );
					});										
						
					$( "#admin_userDialog" ).dialog({
						autoOpen: false,						
						modal: true,
						buttons: {
							"Done" : function () {
								var username = $( "#username" ).val(),
									password = $( "#password").val(),
									role = $( "[name='role']" ).val();
								alert(username + " " + password + " " + role);
								$( this ).dialog( "close" );
							},
							"Cancel" : function () {
								$( this ).dialog( "close" );
							}
						}
					})
				});
			</script>
			<form>
				<fieldset>
					<legend>Create/Edit User</legend>
					<label for="username">Username</label> 
					<input id="username" type="text" value="test1" />
					
					<label for="password">Password</label>
					<input id="password" type="password" value="test1" />
					
					<fieldset>
					<legend>User Role</legend>
						<ul id="role">
							<li>
								<input name="role" type="radio" value="student" checked="checked">Student</input>
							</li>
							<li>
								<input name="role" type="radio" value="instructor">Instructor</input>
							</li>
							<li>
								<input name="role" type="radio" value="admin">Administrator</input>
							</li>
						</ul>
					</fieldset>					
				</fieldset>				
			</form>
		</div>
		
		<div id="admin_courseDialog" title="Create new/Edit existing course">
			<script>
				$(function () {
					$( "[name='addeditcourse']" ).click(function () {
						$( "#admin_courseDialog" ).dialog( "open" );
					});										
						
					$( "#admin_courseDialog" ).dialog({
						autoOpen: false,						
						modal: true,
						buttons: {
							"Done" : function () {
								var coursename = $( "#coursename" ).val(),						
									instructor = $( "#instructor:selected" ).val();									
								alert(coursename + " " + instructor);
								$( this ).dialog( "close" );
							},
							"Cancel" : function () {
								$( this ).dialog( "close" );
							}
						}
					})
				});
			</script>			
			<form>
				<fieldset>
					<legend>Create/Edit Course</legend>
					<label for="coursename">Course Name</label>
					<input id="coursename" type="text" value="cis4410" />
					
					<label for="instructor">Course Instructor</label>
					<select id="instructor">						
					</select>
				</fieldset>				
			</form>			
		</div>
		
	</body>	
</html>

